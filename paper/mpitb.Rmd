---
title: "mpitb: A toolbox for calculating multidimensional poverty indices in R"
date: "2023-12-31"
abstract: >
  This article presents \pkg{mpitb}, an R package for calculating multidimensional poverty indices (MPIs) based on the popular Alkire-Foster measurement approach. \pkg{mpitb} package provides a tractable and extensive framework for researchers, analysts, and practitioners working on mutltidimensional poverty measurement projects in the same vein of the well-known global MPI workflow.
draft: true
author:  
  # see ?rjournal_article for more information
  - name: Ignacio Girela    
    affiliation: CONICET - Universidad Nacional de Córdoba
    address:
    - Facultad de Ciencias Económicas
    - Córdoba, Argentina
    url: https://www.eco.unc.edu.ar/
    orcid: 0000-0003-3297-3854
    email:  ignacio.girela@unc.edu.ar
type: package
output: 
  rjtools::rjournal_pdf_article:
    self_contained: yes
    toc: no
bibliography: RJreferences.bib
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(plotly)
library(ggplot2)
library(palmerpenguins)
```

# Introduction

Although poverty is widely understood as the inability to achieve basic standards of living, the measurement of poverty has traditionally been based on monetary deficits. However, over the past two decades, there has been a significant increase in the use of multidimensional approaches to measuring poverty in an attempt to capture different dimensions of this phenomenon. In this context, the dual-cut-off-counting measurement approach proposed by @af11 (AF, hereafter) has become particularly popular due to its flexibility and ability to inform policy. For example, the AF method is the basis of the global Multidimensional Poverty Index (MPI) which is yearly published by the United Nations Development Programme (UNDP) and the Oxford Poverty and Human Development Initiative (OPHI) [@gMPI-report2022]. In addition, many countries are developing their own official MPIs to track poverty reduction progress using the AF method. 

This measurement approach stands out both for providing an extensive policy information platform and remaining relatively understandable by the general public. In other words, AF measures point estimates entail simple algebraic operations. Some R packages that computes AF measures include \CRANpkg{MPI} [@MPIpkg] and \CRANpkg{mpindex} [@mpindexpkg]. Notwithstanding, these packages do not account for the complex survey design of micro data and, as a result, assume the data was obtained through a simple random sampling which is barely the case of household surveys. Certainly, not considering the complex survey design affects further statistical inference exercises of interest. Namely, is multidimensional poverty in one subgroup of the population greater than another? Has poverty been reduced over time?

Therefore, calculating AF measures in practice is still a challenging task. For this reason OPHI launched a Stata package [@mpitb_Stata] with the aim of providing a framework that mirrors the production process of the well-known global MPI to researchers, analysts and practitioners. To do so, @mpitb_Stata (continue...).
This package adapts this framework for R users.


<!-- Despite the increasing popularity of this approach, calculating AF measures in practice is still a challenging task due to the lack of an integrated framework on how to generate, analyse and present various poverty estimates together.  Motivated by this problem, OPHI launched a Stata package [@mpitb_Stata] with the aim of providing a framework that mirrors the production process of the well-known global MPI to researchers, analysts and practitioners. To do so, @mpitb_Stata (continue...). -->
<!-- This package adapts this framework for R users. -->

<!-- Calculating AF measures point estimates underlies simple algebraic operations. Indeed, R packages that computes AF measures include \CRANpkg{MPI} [@MPIpkg] and \CRANpkg{mpindex} [@mpindexpkg]. Notwithstanding, these packages do not account for the complex survey designs from where data are drawn. This issue affects the estimation of the standard errors and, consequently, impacts further statistical inference exercises of interest. Namely, is multidimensional poverty in one subgroup of the population greater than another? Has poverty been reduced over time? -->

# Measuring multidimensional poverty: the Alkire-Foster Method


# Overview of \pkg{mpitb} package

\pkg{mpitb} is a packages for ...

# Applications

@mpitb_Stata provide a set of examples on a synthetic data set following a common household survey structure. With the view of consistency, all applied examples herebelow are based on the same data.

```{r penguins-alison, eval=FALSE, out.width = "100%", out.height = "30%", fig.cap = "Artwork by \\@allison\\_horst", fig.alt="A picture of three different penguins with their species: Chinstrap, Gentoo, and Adelie. "}
knitr::include_graphics("penguins.png")
```

```{r library, echo = TRUE}
library(mpitb)

data <- syn_cdta

data <- subset(data, t == 1)
```



Table `r knitr::asis_output(ifelse(knitr::is_html_output(), '\\@ref(tab:penguins-tab-interactive)', '\\@ref(tab:penguins-tab-static)'))` prints at the first few rows of the `penguins` data:

```{r penguins-tab-interactive, eval = knitr::is_html_output(), layout = "l-body-outset"}
knitr::kable(head(penguins), format = "html", caption = "A basic table")
```

```{r penguins-tab-static, eval = knitr::is_latex_output()}
knitr::kable(head(penguins), format = "latex", caption = "A basic table") %>% 
  kableExtra::kable_styling(font_size = 7)
```   

Figure `r knitr::asis_output(ifelse(knitr::is_html_output(), '\\@ref(fig:penguins-plotly)', '\\@ref(fig:penguins-ggplot)'))` shows an `r ifelse(knitr::is_html_output(), 'interactive', '')` plot of the penguins data, made using the `r knitr::asis_output(ifelse(knitr::is_html_output(), '\\CRANpkg{plotly}', '\\CRANpkg{ggplot2}'))` package. 

```{r penguins-plotly, echo = TRUE, fig.height = 5, fig.cap="A basic interactive plot made with the plotly package on palmer penguin data. Three species of penguins are plotted with bill depth on the x-axis and bill length on the y-axis. When hovering on a point, a tooltip will show the exact value of the bill depth and length for that point, along with the species name.", include=knitr::is_html_output(), eval=knitr::is_html_output(), fig.alt = "A scatterplot of bill length against bill depth, both measured in millimetre. The three species are shown in different colours and loosely forms three clusters. Adelie has small bill length and large bill depth, Gentoo has small bill depth but large bill length, and Chinstrap has relatively large bill depth and bill length."}
p <- penguins %>% 
  ggplot(aes(x = bill_depth_mm, y = bill_length_mm, 
             color = species)) + 
  geom_point()
ggplotly(p)
```

```{r penguins-ggplot, echo = TRUE, fig.height = 5, fig.cap="A basic non-interactive plot made with the ggplot2 package on palmer penguin data. Three species of penguins are plotted with bill depth on the x-axis and bill length on the y-axis. Visit the online article to access the interactive version made with the plotly package.", include=knitr::is_latex_output(), eval=knitr::is_latex_output()}
penguins %>% 
  ggplot(aes(x = bill_depth_mm, y = bill_length_mm, 
             color = species)) + 
  geom_point()
```

# Summary

In this paper, we introduced a package for calculating multidimensional poverty indices based on the Alkire-Foster method

# Acknowledgements

I want to thank 
