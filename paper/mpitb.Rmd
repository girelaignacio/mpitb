---
title: "mpitb: A toolbox for calculating multidimensional poverty indices in R"
date: "2023-12-31"
abstract: >
  (An abstract of less than 150 words.) This article presents mpitb, an integrated framework for calculating multidimensional poverty indices (MPIs). This package supports the popular Alkire-Foster framework for measuring multidimensional poverty.
draft: true
author:  
  # see ?rjournal_article for more information
  - name: Ignacio Girela    
    affiliation: CONICET - Universidad Nacional de Córdoba
    address:
    - Facultad de Ciencias Económicas
    - Córdoba, Argentina
    url: https://www.eco.unc.edu.ar/
    orcid: 0000-0003-3297-3854
    email:  ignacio.girela@unc.edu.ar
type: package
output: 
  rjtools::rjournal_pdf_article:
    self_contained: yes
    toc: no
bibliography: RJreferences.bib

---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(plotly)
library(ggplot2)
library(palmerpenguins)
```

# Introduction

Although poverty is widely understood as the inability to achieve basic standards of living, the measurement of poverty has traditionally been based on monetary deficits. However, over the past two decades, there has been a significant increase in the use of multidimensional approaches to measuring poverty in an attempt to capture different aspects of this phenomenon. In this context, the measurement method proposed by @af11 (AF, hereafter) has become notably popular due to its flexibility and ability to inform policy. For instance, the well-known global Multidimensional Poverty Index (MPI), yearly published by the OPHI and the UNDP, is based on the AF method. Furthermore, many countries are developing their own MPIs to track poverty reduction progress using the AF method. 

Although this method is increasingly popular, calculating AF measures in practice is still a challenging task due to the lack of a unified and integrated framework on how to produce, analyse and present different estimates. Motivated by this issue, OPHI has recently launched a Stata package [@mpitb_Stata] to provide [...]. This package seeks to adapt this framework to R users.

Some R packages that computes AF measures include \CRANpkg{MPI} [@MPIpkg] [...]. Notwithstanding, these packages do not consider the survey structure from which household surveys affecting the estimation of standard errors and, consequently, affecting subsequent statistical inference.

This paper will first review some R packages on interactive graphics and their tooltip implementations. A new package \CRANpkg{ToOoOlTiPs} that provides customized tooltips for plot, is introduced. Some example plots will then be given to showcase how these tooltips help users to better read the graphics. 

# Measuring multidimensional poverty: the Alkire-Foster Method


# Customizing tooltip design with \pkg{ToOoOlTiPs}

\pkg{ToOoOlTiPs} is a packages for customizing tooltips in interactive graphics, it features these possibilities.

# A gallery of tooltips examples

The \CRANpkg{palmerpenguins} data [@palmerpenguins]  features three penguin species which has a lovely illustration by Alison Horst in Figure \@ref(fig:penguins-alison). 

```{r penguins-alison, out.width = "100%", out.height = "30%", fig.cap = "Artwork by \\@allison\\_horst", fig.alt="A picture of three different penguins with their species: Chinstrap, Gentoo, and Adelie. "}
knitr::include_graphics("penguins.png")
```

Table `r knitr::asis_output(ifelse(knitr::is_html_output(), '\\@ref(tab:penguins-tab-interactive)', '\\@ref(tab:penguins-tab-static)'))` prints at the first few rows of the `penguins` data:

```{r penguins-tab-interactive, eval = knitr::is_html_output(), layout = "l-body-outset"}
knitr::kable(head(penguins), format = "html", caption = "A basic table")
```

```{r penguins-tab-static, eval = knitr::is_latex_output()}
knitr::kable(head(penguins), format = "latex", caption = "A basic table") %>% 
  kableExtra::kable_styling(font_size = 7)
```   

Figure `r knitr::asis_output(ifelse(knitr::is_html_output(), '\\@ref(fig:penguins-plotly)', '\\@ref(fig:penguins-ggplot)'))` shows an `r ifelse(knitr::is_html_output(), 'interactive', '')` plot of the penguins data, made using the `r knitr::asis_output(ifelse(knitr::is_html_output(), '\\CRANpkg{plotly}', '\\CRANpkg{ggplot2}'))` package. 

```{r penguins-plotly, echo = TRUE, fig.height = 5, fig.cap="A basic interactive plot made with the plotly package on palmer penguin data. Three species of penguins are plotted with bill depth on the x-axis and bill length on the y-axis. When hovering on a point, a tooltip will show the exact value of the bill depth and length for that point, along with the species name.", include=knitr::is_html_output(), eval=knitr::is_html_output(), fig.alt = "A scatterplot of bill length against bill depth, both measured in millimetre. The three species are shown in different colours and loosely forms three clusters. Adelie has small bill length and large bill depth, Gentoo has small bill depth but large bill length, and Chinstrap has relatively large bill depth and bill length."}
p <- penguins %>% 
  ggplot(aes(x = bill_depth_mm, y = bill_length_mm, 
             color = species)) + 
  geom_point()
ggplotly(p)
```

```{r penguins-ggplot, echo = TRUE, fig.height = 5, fig.cap="A basic non-interactive plot made with the ggplot2 package on palmer penguin data. Three species of penguins are plotted with bill depth on the x-axis and bill length on the y-axis. Visit the online article to access the interactive version made with the plotly package.", include=knitr::is_latex_output(), eval=knitr::is_latex_output()}
penguins %>% 
  ggplot(aes(x = bill_depth_mm, y = bill_length_mm, 
             color = species)) + 
  geom_point()
```

# Summary

We have displayed various tooltips that are available in the package \pkg{ToOoOlTiPs}. 
